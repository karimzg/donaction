import React from 'react';
import Link from 'next/link';

const DonateButton: React.FC<{ color: string; color2: string }> = ({ color, color2 }) => {
	function blendWithBackground(hex = '', opacity: number, bgHex = '#FFFFFF') {
		hex = hex?.replace('#', '');
		bgHex = bgHex.replace('#', '');

		if (hex?.length === 3) {
			hex = hex
				?.split('')
				.map((char) => char + char)
				.join('');
		}

		if (bgHex.length === 3) {
			bgHex = bgHex
				.split('')
				.map((char) => char + char)
				.join('');
		}

		// Convert to RGB
		const r = parseInt(hex?.substring(0, 2), 16);
		const g = parseInt(hex?.substring(2, 4), 16);
		const b = parseInt(hex?.substring(4, 6), 16);

		const br = parseInt(bgHex.substring(0, 2), 16);
		const bg = parseInt(bgHex.substring(2, 4), 16);
		const bb = parseInt(bgHex.substring(4, 6), 16);

		// Blend with background
		const newR = Math.round(r * opacity + br * (1 - opacity));
		const newG = Math.round(g * opacity + bg * (1 - opacity));
		const newB = Math.round(b * opacity + bb * (1 - opacity));

		// Convert back to hex
		return `#${newR.toString(16).padStart(2, '0')}${newG.toString(16).padStart(2, '0')}${newB.toString(16).padStart(2, '0')}`;
	}
	return (
		<Link
			href='?PAYEMENT_FORM=true'
			className={
				'cursor-pointer fixed bottom-2 left-2 p-4 rounded-3xl boxBoxShadow z-[30] bg-white w-[106px] h-[91px] flex flex-col items-center gap-1'
			}
		>
			<svg
				className={'w-[42.6px] h-[34.85px]'}
				width='23'
				height='19'
				viewBox='0 0 23 19'
				fill='none'
				xmlns='http://www.w3.org/2000/svg'
			>
				<path
					d='M21.2463 1.78224C20.6912 1.2168 20.0317 0.76851 19.3058 0.463119C18.5799 0.157728 17.8018 0.00125432 17.0163 0.00268611H14.4579V0.586835C13.8373 0.885728 13.2719 1.29092 12.7862 1.78471C12.2258 1.21325 11.559 0.761297 10.8247 0.455306C10.0905 0.149314 9.3036 -0.004563 8.51018 0.00268611H5.95301V0.609017C5.09323 1.03154 4.34536 1.65732 3.77193 2.43405C3.1985 3.21077 2.81618 4.11587 2.65691 5.07368C2.49765 6.03148 2.56608 7.01415 2.85649 7.93955C3.14689 8.86494 3.65083 9.70616 4.32617 10.3929L10.2012 16.3699H10.1734V18.9998H12.0292C12.5139 18.9998 12.9789 18.8039 13.3217 18.4551L21.2463 10.3929C21.8023 9.82762 22.2433 9.15646 22.5442 8.41773C22.8451 7.67901 23 6.8872 23 6.08756C23 5.28792 22.8451 4.49611 22.5442 3.75739C22.2433 3.01866 21.8023 2.3475 21.2463 1.78224Z'
					fill={color}
				/>
				<path
					opacity='0.2'
					d='M21.2463 1.78224C20.6912 1.2168 20.0317 0.76851 19.3058 0.463119C18.5799 0.157728 17.8018 0.00125432 17.0163 0.00268611H14.4579V0.586835C13.8373 0.885728 13.2719 1.29092 12.7862 1.78471C12.2258 1.21325 11.559 0.761297 10.8247 0.455306C10.0905 0.149314 9.3036 -0.004563 8.51018 0.00268611H5.95301V0.609017C5.09323 1.03154 4.34536 1.65732 3.77193 2.43405C3.1985 3.21077 2.81618 4.11587 2.65691 5.07368C2.49765 6.03148 2.56608 7.01415 2.85649 7.93955C3.14689 8.86494 3.65083 9.70616 4.32617 10.3929L10.2012 16.3699H10.1734V18.9998H12.0292C12.5139 18.9998 12.9789 18.8039 13.3217 18.4551L21.2463 10.3929C21.8023 9.82762 22.2433 9.15646 22.5442 8.41773C22.8451 7.67901 23 6.8872 23 6.08756C23 5.28792 22.8451 4.49611 22.5442 3.75739C22.2433 3.01866 21.8023 2.3475 21.2463 1.78224Z'
					fill={color}
				/>
				<path
					d='M18.6337 1.78227C17.5117 0.641086 15.9902 0 14.4037 0C12.8172 0 11.2956 0.641086 10.1736 1.78227C9.04805 0.658363 7.53179 0.0320746 5.95467 0.0396345C4.37756 0.0471944 2.86716 0.68799 1.75204 1.82263C0.636913 2.95728 0.00726761 4.49399 6.25196e-05 6.09848C-0.00714257 7.70298 0.608676 9.24547 1.71356 10.3904L10.1736 18.9974L18.6337 10.3904C19.1893 9.82523 19.63 9.15422 19.9307 8.41572C20.2314 7.67722 20.3862 6.8857 20.3862 6.08635C20.3862 5.287 20.2314 4.49548 19.9307 3.75698C19.63 3.01849 19.1893 2.34748 18.6337 1.78227Z'
					fill={color}
				/>
				<path
					d='M6.3879 15.5823L6.30225 15.6694L7.6102 17.0001L7.69586 16.913L6.3879 15.5823Z'
					fill={color}
				/>
				<path
					d='M8.21053 17.4387L8.12488 17.5259L8.72104 18.1324L8.8067 18.0452L8.21053 17.4387Z'
					fill={color}
				/>
				<path
					opacity='0.2'
					d='M18.6337 1.78227C17.5117 0.641086 15.9902 0 14.4037 0C12.8172 0 11.2956 0.641086 10.1736 1.78227C9.04805 0.658363 7.53179 0.0320746 5.95467 0.0396345C4.37756 0.0471944 2.86716 0.68799 1.75204 1.82263C0.636913 2.95728 0.00726761 4.49399 6.25196e-05 6.09848C-0.00714257 7.70298 0.608676 9.24547 1.71356 10.3904L10.1736 18.9974L18.6337 10.3904C19.1893 9.82523 19.63 9.15422 19.9307 8.41572C20.2314 7.67722 20.3862 6.8857 20.3862 6.08635C20.3862 5.287 20.2314 4.49548 19.9307 3.75698C19.63 3.01849 19.1893 2.34748 18.6337 1.78227Z'
					fill={color}
				/>
				<path
					d='M2.58557 9.50219C2.14469 9.05366 1.79496 8.52117 1.55636 7.93513C1.31776 7.34909 1.19495 6.72098 1.19495 6.08665C1.19495 5.45233 1.31776 4.82421 1.55636 4.23817C1.79496 3.65213 2.14469 3.11964 2.58557 2.67111C3.02645 2.22257 3.54985 1.86678 4.12589 1.62403C4.70193 1.38129 5.31933 1.25635 5.94283 1.25635C6.56633 1.25635 7.18372 1.38129 7.75976 1.62403C8.3358 1.86678 8.85921 2.22257 9.30009 2.67111L10.1735 3.55966L11.0469 2.67111C11.4877 2.22257 12.0111 1.86678 12.5872 1.62403C13.1632 1.38129 13.7806 1.25635 14.4041 1.25635C15.0276 1.25635 15.645 1.38129 16.2211 1.62403C16.7971 1.86678 17.3205 2.22257 17.7614 2.67111C18.2023 3.11964 18.552 3.65213 18.7906 4.23817C19.0292 4.82421 19.152 5.45233 19.152 6.08665C19.152 6.72098 19.0292 7.34909 18.7906 7.93513C18.552 8.52117 18.2023 9.05366 17.7614 9.50219L10.1735 17.2218L2.58557 9.50219Z'
					fill={blendWithBackground(color, 0.2)}
				/>
			</svg>
			<p className={'text-black font-semibold text-sm'}>Je soutiens</p>
		</Link>
	);
};

export default DonateButton;
